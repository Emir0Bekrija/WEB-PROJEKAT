<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food Blog</title>
  </head>
  <body>
    <section class="food_section layout_padding">
      <div class="container">
        <div class="heading_container heading_center">
          <h2>Food Blog</h2>
        </div>

        <div class="filters-content" id="blogPosts">
          <!-- Blog posts will be added here dynamically -->
        </div>
      </div>
    </section>

    <script>
      // Function to fetch data from JSON file and generate blog posts
      async function fetchBlogPosts() {
        try {
          const response = await fetch("blog_data.json");
          const data = await response.json();

          const blogPostsContainer = document.getElementById("blogPosts");

          // Loop through each blog post in the data
          data.posts.forEach((post) => {
            // Create elements for the blog post
            const postLink = document.createElement("a");
            postLink.setAttribute("href", `#blog${post.id}`);

            const blogColumn = document.createElement("div");
            blogColumn.classList.add(
              "col-sm-6",
              "col-lg-4-blog",
              "all",
              "pizza"
            );

            const blogBox = document.createElement("div");
            blogBox.classList.add("box");

            const blogContent = document.createElement("div");

            const imageBox = document.createElement("div");
            imageBox.classList.add("img-box");
            const image = document.createElement("img");
            image.setAttribute("src", "assets/images/f1.png");
            image.setAttribute("alt", "");

            const detailBox = document.createElement("div");
            detailBox.classList.add("detail-box");

            const itemName = document.createElement("h5");
            itemName.classList.add("item-name");
            itemName.textContent = post.name;

            const creator = document.createElement("p");
            creator.classList.add("creator");
            creator.textContent = `By: ${post.creator}`;

            const summary = document.createElement("h6");
            summary.textContent = post.summary;

            const macros = document.createElement("h6");
            macros.classList.add("macros");
            macros.textContent = `Macros: ${post.macros}`;

            // Append elements to their respective parents
            imageBox.appendChild(image);
            detailBox.appendChild(itemName);
            detailBox.appendChild(creator);
            detailBox.appendChild(summary);
            detailBox.appendChild(macros);

            blogContent.appendChild(imageBox);
            blogContent.appendChild(detailBox);

            blogBox.appendChild(blogContent);
            blogColumn.appendChild(blogBox);
            postLink.appendChild(blogColumn);
            blogPostsContainer.appendChild(postLink);
          });
        } catch (error) {
          console.error("Error fetching blog data:", error);
        }
      }

      // Call the function to fetch and display the blog posts
      fetchBlogPosts();
    </script>
  </body>
</html>
